    CCP1CON=0x05;	
    T3CON=0x0;			
    T1CON=0x0;		
    TRISB=0;      		
    TRISD=0;      		
    TRISCbits.TRISC2=1; 	
    CCPR1L=0;			
    CCPR1H=0;			
  while(1)
    {
    TMR1H=0;			
    TMR1L=0;
    PIR1bits.CCP1IF=0;	
    while(PIR1bits.CCP1IF==0);	
    T1CONbits.TMR1ON=1;	
    PIR1bits.CCP1IF=0;	
    while(PIR1bits.CCP1IF==0);	
    T1CONbits.TMR1ON=0;	
    PORTB=CCPR1L;
    PORTD=CCPR1H;		
    }
