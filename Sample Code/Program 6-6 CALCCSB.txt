	#include P18F458.inc
	
RAM_ADDR 	EQU 40H
COUNTREG	EQU 0x20		
CNTVAL 	EQU 4			
CNTVAL1 	EQU 5			
 	GLOBAL CAL_CHKSUM
 	
PGM CODE			
				
CAL_CHKSUM
	MOVLW	CNTVAL		
	MOVWF	COUNTREG		
	LFSR	0,RAM_ADDR		
	CLRF	WREG
C2	ADDWF	POSTINC0,W		
	DECF	COUNTREG,F		
	BNZ 	C2			
	XORLW	0xFF			
	ADDLW	1			
	MOVWF	POSTINC0
	RETURN
	END
