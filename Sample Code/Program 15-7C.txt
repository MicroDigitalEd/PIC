    ECCP1CON=0x05;	
    T3CON=0x0;			
    T1CON=0x0;		
    TRISC=0;      		
    TRISD=0;      		
    TRISDbits.TRISD4=1; 	
    ECCPR1L=0;			
    ECCPR1H=0;			
  while(1)
    {
    TMR1H=0;			
    TMR1L=0;
    PIR2bits.ECCP1IF=0;	
    while(PIR2bits.ECCP1IF==0);	
    T1CONbits.TMR1ON=1;	
    PIR2bits.ECCP1IF=0;	
    while(PIR2bits.ECCP1IF==0);	
    T1CONbits.TMR1ON=0;	
    PORTC=CCPR1L;
    PORTD=CCPR1H;		
    }
